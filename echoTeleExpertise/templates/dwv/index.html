{% extends 'base.html' %}
{% load static %}

{% block title %}Dicom Viewer{% endblock %}

{% block dwv_style %}
  <link rel="manifest" href="/dwv/manifest.json">
  <link type="text/css" rel="stylesheet" href="{% static 'dwv/css/style.css' %}" />
  <!-- mobile web app -->
  <meta name="mobile-web-app-capable" content="yes" />
  <link rel="shortcut icon" sizes="16x16" href="{% static 'dwv/resources/icons/icon-16.png' %}" />
  <link rel="shortcut icon" sizes="32x32" href="{% static 'dwv/resources/icons/icon-32.png' %}" />
  <link rel="shortcut icon" sizes="64x64" href="{% static 'dwv/resources/icons/icon-64.png' %}" />
  <link rel="shortcut icon" sizes="128x128" href="{% static 'dwv/resources/icons/icon-128.png' %}" />
  <link rel="shortcut icon" sizes="256x256" href="{% static 'dwv/resources/icons/icon-256.png' %}" />
  <!-- apple specific -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon" sizes="16x16" href="{% static 'dwv/resources/icons/icon-16.png' %}" />
  <link rel="apple-touch-icon" sizes="32x32" href="{% static 'dwv/resources/icons/icon-32.png' %}" />
  <link rel="apple-touch-icon" sizes="64x64" href="{% static 'dwv/resources/icons/icon-64.png' %}" />
  <link rel="apple-touch-icon" sizes="128x128" href="{% static 'dwv/resources/icons/icon-128.png' %}" />
  <link rel="apple-touch-icon" sizes="256x256" href="{% static 'dwv/resources/icons/icon-256.png' %}" />
{% endblock %}

{% block dwv_script %}
  <!-- Third party (dwv) -->
  <script type="text/javascript" src="{% static 'dwv/node_modules/i18next/i18next.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'dwv/node_modules/i18next-xhr-backend/i18nextXHRBackend.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'dwv/node_modules/i18next-browser-languagedetector/i18nextBrowserLanguageDetector.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'dwv/node_modules/jszip/dist/jszip.min.js' %}"></script>
  <!-- decoders -->
  <script type="text/javascript" src="{% static 'dwv/node_modules/dwv/decoders/dwv/rle.js' %}"></script>
  <script type="text/javascript" src="{% static 'dwv/node_modules/dwv/decoders/pdfjs/jpx.js' %}"></script>
  <script type="text/javascript" src="{% static 'dwv/node_modules/dwv/decoders/pdfjs/util.js' %}"></script>
  <script type="text/javascript" src="{% static 'dwv/node_modules/dwv/decoders/pdfjs/arithmetic_decoder.js' %}"></script>
  <script type="text/javascript" src="{% static 'dwv/node_modules/dwv/decoders/pdfjs/jpg.js' %}"></script>
  <script type="text/javascript" src="{% static 'dwv/node_modules/dwv/decoders/rii-mango/lossless-min.js' %}"></script>
  <!-- dwv -->
  <script type="text/javascript" src="{% static 'dwv/node_modules/dwv/dist/dwv.min.js' %}"></script>
  <!-- gui -->
  <script type="text/javascript" src="{% static '/dwv/src/gui/dropboxLoader.js' %}"></script>

  <!-- Launch the app -->
  <script type="text/javascript" src="{% static '/dwv/src/register-sw.js' %}"></script>
  <script type="text/javascript" src="{% static '/dwv/src/appgui.js' %}"></script>
  <script type="text/javascript" src="{% static '/dwv/src/applauncher.js' %}"></script>
{% endblock %}


{% block body %}
  <!-- DWV -->
  <div id="dwv">
  <br/>
  <!-- Toolbar -->
  <div class="toolbar">
    <select id="tools" name="tools" onChange="dwvAppGui.onChangeTool(this.value)" disabled>
      <option value="Scroll" data-i18n="Défiler">Défiler</option>
      <option value="WindowLevel" data-i18n="Niveau fenêtre">Niveau Fenêtre</option>
      <option value="ZoomAndPan" data-i18n="Zoom et Déplacement">Zoom Et Pan</option>
    </select>
    <select id="presets" name="presets" onChange="dwvAppGui.onChangePreset(this.value)" disabled>
      <option value="">Configuration</option>
    </select>
    <button id="reset" value="Reset" onClick="dwvAppGui.onDisplayReset()" data-i18n="Reset" disabled>Reset</button>
  </div>
  <!-- Layer Container -->
  <div class="layerContainer">
  <div class="dropBox dropBoxBorder">Glisser le fichier ici.</div>
  <canvas class="imageLayer">Votre navigateur ne supporte pas HTML5</canvas>
  </div><!-- /layerContainer -->

  <div id="legend" class="legend"><p>Meryem Rkach <small>dwv </small><span id="dwvVersion"></span>.</p>
  </div>
  </div><!-- /dwv -->
{% endblock %}
